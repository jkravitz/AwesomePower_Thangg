<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <title>jQuery UI Resizable - Default functionality</title>
    <link rel="stylesheet" type="text/css" href="jquery/css/ui-lightness/jquery-ui-1.10.2.custom.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css" />
	<link rel="stylesheet" type="text/css" href="css/choosedevice.css" />
    <script  src="jquery/js/jquery-1.9.1.js"></script>
    <script  src="jquery/js/jquery-ui-1.10.2.custom.js"></script>
    <script  src="jquery/js/jquery.ui.touch-punch.js"></script>
	<script  src="./js/items.js"></script>
	
    <script>
        $(function() {
            $(document).on('click', '.remoteButton', function() {
                event.preventDefault();
				localStorage.prevPage = "chooseDevice.html";
                window.location = "index.html";
            });
            $(document).on('click', '.overviewButton', function() {
                event.preventDefault();
				localStorage.prevPage = "chooseDevice.html";
                window.location = "overview.html";
            });
            $(document).on('click', '.ui-state-default', function() {
                event.preventDefault();
				localStorage.currentSchedule = $(this).attr('id');
				localStorage.prevPage = "chooseDevice.html";
				localStorage.pageid = $(this).attr('id');
				items[this.id].hasSchedule="yes";
				//alert(items[this.id].hasSchedule);
				localStorage.items = JSON.stringify(items);				
                window.location = "schedule.html";
            });
        });
		
    </script>
</head>
    
<body class="overview">
   	<div id="header">
				<div class="leftButton button overviewButton"><span>Back</span></div>
				<div class="midContainer"><h1 id="pageTitle" >Add Schedule for Device</h1></div>
				<div class="rightButton button remoteButton"><span>Remote</span></div>
			</div>
    <div id="leftcolumn">
        <div id="maincontent" class="ui-widget ui-helper-clearfix">
				<ul id="itemsList">
 
                </ul>
            </div>	
		
	</div>
 
	<script>
			var numitems =0;
			for (var item in items) {
				var idItem = item;
				if(items[item].hasSchedule=='no'){
					var createHTML = '<li class="ui-state-default"'+'id='+idItem+'>'+
										'<span>'+items[item].name+'</span><img src="'+items[item].image+'" /></li>';
					$("#itemsList").prepend(createHTML);
					numitems++;
				}
			}
			if(numitems==0){
				var createHTML ='<h2 style="color:rgba(255,255,255,0.95); font-family:\'HelveticaNeue-Light\', \'HelveticaNeue\', Helvetica, Arial, sans-serif;"> All Devices Scheduled </h2>';
				$("#itemsList").prepend(createHTML);

			}
			
	</script>
</body>
</html>
